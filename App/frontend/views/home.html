<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>FreelanceHub - Plataforma de Contratación</title>
        <link rel="stylesheet" href="/styles/home.css">
        <script type="module" src="/scripts/home.js" defer></script>
    </head>
    <body>
        <!-- Header -->
        <header>
            <div class="container">
                <nav class="navbar">
                    <div class="logo">FreelanceHub</div>
                    <ul class="nav-links">
                        <li><a href="#" id="nav-home">Inicio</a></li>
                        <li><a href="#" id="nav-projects">Proyectos</a></li>
                        <li><a href="#" id="nav-login" class="hidden">Iniciar Sesión</a></li>
                        <li><a href="#" id="nav-register" class="hidden">Registrarse</a></li>
                        <li><a href="#" id="nav-dashboard" class="hidden">Dashboard</a></li>
                        <li><a href="#" id="nav-logout" class="hidden">Cerrar Sesión</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Landing Page -->
        <section id="landing-page">
            <div class="hero">
                <div class="container">
                    <h1>Conecta con los mejores freelancers</h1>
                    <p>Encuentra talento para tus proyectos o consigue trabajo como freelancer en nuestra plataforma</p>
                    <button class="btn btn-primary" id="get-started-btn">Comenzar Ahora</button>
                </div>
            </div>
            
            <div class="section">
                <div class="container">
                    <h2 class="section-title">¿Cómo funciona?</h2>
                    <div class="project-grid">
                        <div class="card">
                            <h3 class="card-title">Para Clientes</h3>
                            <p>Publica tus proyectos, recibe propuestas de freelancers y selecciona al mejor candidato para el trabajo.</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Para Freelancers</h3>
                            <p>Crea tu perfil, muestra tus habilidades, encuentra proyectos interesantes y gana dinero haciendo lo que te apasiona.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Authentication Pages -->
        <section id="auth-section" class="hidden">
            <div class="section">
                <div class="container">
                    <div class="card" style="max-width: 500px; margin: 0 auto;">
                        <h2 class="text-center" id="auth-title">Iniciar Sesión</h2>
                        <div id="auth-alert" class="alert hidden"></div>
                        <form id="auth-form">
                            <div class="form-group" id="name-group" style="display: none;">
                                <label class="form-label" for="name">Nombre completo</label>
                                <input type="text" class="form-control" id="name">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="email">Correo electrónico</label>
                                <input type="email" class="form-control" id="email" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="password">Contraseña</label>
                                <input type="password" class="form-control" id="password" required>
                            </div>
                            <div class="form-group" id="user-type-group" style="display: none;">
                                <label class="form-label" for="user-type">Tipo de usuario</label>
                                <select class="form-select" id="user-type">
                                    <option value="freelancer">Freelancer</option>
                                    <option value="client">Cliente</option>
                                </select>
                            </div>
                            <div class="form-group" id="cv-group" style="display: none;">
                                <label class="form-label" for="cv">CV (PDF)</label>
                                <input type="file" class="form-control" id="cv" accept=".pdf">
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;" id="auth-submit-btn">Iniciar Sesión</button>
                        </form>
                        <p class="text-center mt-20" id="auth-switch-text">
                            ¿No tienes una cuenta? <a href="#" id="auth-switch-link">Regístrate</a>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard -->
        <section id="dashboard-section" class="hidden">
            <div class="container">
                <div class="dashboard">
                    <!-- Sidebar -->
                    <div class="sidebar">
                        <h3 id="dashboard-greeting">Hola, Usuario</h3>
                        <ul class="sidebar-menu">
                            <li><a href="#" class="dashboard-link active" data-section="overview">Resumen</a></li>
                            <li><a href="#" class="dashboard-link" data-section="profile">Mi Perfil</a></li>
                            <li><a href="#" class="dashboard-link" data-section="projects">Proyectos</a></li>
                            <li id="freelancer-only" class="hidden"><a href="#" class="dashboard-link" data-section="my-applications">Mis Postulaciones</a></li>
                            <li id="client-only" class="hidden"><a href="#" class="dashboard-link" data-section="my-projects">Mis Proyectos</a></li>
                        </ul>
                    </div>
                    
                    <!-- Main Content -->
                    <div class="main-content">
                        <!-- Overview Section -->
                        <div id="overview-section" class="dashboard-content">
                            <h2>Resumen</h2>
                            <div id="overview-content">
                                <!-- Content will be loaded dynamically -->
                            </div>
                        </div>
                        
                        <!-- Profile Section -->
                        <div id="profile-section" class="dashboard-content hidden">
                            <h2>Mi Perfil</h2>
                            <div id="profile-content">
                                <!-- Content will be loaded dynamically -->
                            </div>
                        </div>
                        
                        <!-- Projects Section -->
                        <div id="projects-section" class="dashboard-content hidden">
                            <h2>Proyectos Disponibles</h2>
                            <div id="projects-content">
                                <!-- Content will be loaded dynamically -->
                            </div>
                        </div>
                        
                        <!-- My Applications Section (Freelancer Only) -->
                        <div id="my-applications-section" class="dashboard-content hidden">
                            <h2>Mis Postulaciones</h2>
                            <div id="my-applications-content">
                                <!-- Content will be loaded dynamically -->
                            </div>
                        </div>
                        
                        <!-- My Projects Section (Client Only) -->
                        <div id="my-projects-section" class="dashboard-content hidden">
                            <h2>Mis Proyectos</h2>
                            <button class="btn btn-primary mb-20" id="create-project-btn">Crear Nuevo Proyecto</button>
                            <div id="my-projects-content">
                                <!-- Content will be loaded dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Project Modal -->
        <div id="project-modal" class="modal hidden" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;">
            <div class="card" style="width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto;">
                <h2 id="project-modal-title">Crear Proyecto</h2>
                <button class="x-close-btn" onclick="closeModal('project-modal')">
                    &times;
                </button>
                <form id="project-form">
                    <div class="form-group">
                        <label class="form-label" for="project-title">Título</label>
                        <input type="text" class="form-control" id="project-title" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="project-description">Descripción</label>
                        <textarea class="form-control" id="project-description" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="project-budget">Presupuesto</label>
                        <input type="number" class="form-control" id="project-budget" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="project-category">Categoría</label>
                        <select class="form-select" id="project-category" required>
                            <option value="">Selecciona una categoría</option>
                            <option value="web-development">Desarrollo Web</option>
                            <option value="mobile-development">Desarrollo Móvil</option>
                            <option value="design">Diseño</option>
                            <option value="writing">Redacción</option>
                            <option value="marketing">Marketing</option>
                            <option value="other">Otro</option>
                        </select>
                    </div>
                    <div class="form-group" id="project-applicants-group" style="display: none;">
                        <h3>Postulantes</h3>
                        <div id="project-applicants-list">
                            <!-- Applicants will be loaded here -->
                        </div>
                    </div>
                    <div id="secret_group">
                        <button type="button" class="btn btn-danger hidden" id="project-delete-btn">Destruir Proyecto</button>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button type="submit" class="btn btn-primary" id="project-submit-btn">Guardar</button>
                        <button type="button" class="btn btn-outline" id="project-cancel-btn">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Confirmation modal -->
        <div id="confirmOverlay" class="confirm-overlay" style="display:none;">
            <div class="confirm-box">
                <p id="confirmMessage"></p>
                <div class="confirm-buttons">
                <button id="confirmOk" class="btn btn-primary">Borrar</button>
                <button id="confirmCancel" class="btn btn-outline">Me arrepenti</button>
                </div>
            </div>
        </div>
    </body>
</html>